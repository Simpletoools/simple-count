<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>通貨変換ツール | Currency Converter</title>
  <meta name="description" content="無料で使えるシンプルな通貨変換ツール。Currency converter using daily exchange rates.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f7f7f7;
      padding: 24px;
    }
    .container {
      max-width: 650px;
      margin: auto;
      background: #fff;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    h1 {
      font-size: 1.4rem;
      margin-bottom: 8px;
    }
    .desc {
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 20px;
      color: #444;
    }
    label {
      margin-top: 12px;
      display: block;
      font-weight: 500;
    }
    select, input, button {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      font-size: 1rem;
    }
    button {
      cursor: pointer;
    }
    .swap {
      margin-top: 10px;
    }
    .result {
      margin-top: 20px;
      font-size: 1.1rem;
      font-weight: bold;
    }
    .note {
      margin-top: 12px;
      font-size: 0.85rem;
      color: #666;
      line-height: 1.5;
    }
    .links {
      margin-top: 32px;
      padding-top: 16px;
      border-top: 1px solid #eee;
      font-size: 0.9rem;
    }
    .links a {
      display: block;
      margin-top: 6px;
      color: #0066cc;
      text-decoration: none;
    }
/* ===== Column / Article ===== */
.column {
  margin-top: 48px;
  padding-top: 24px;
  border-top: 1px solid #eee;
  line-height: 1.9;
  font-size: 0.95rem;
}

.column h2 {
  margin-top: 36px;
  margin-bottom: 12px;
  font-size: 1.15rem;
  font-weight: 600;
  color: #222;
}

/* ===== Text ===== */
.column p {
  margin-bottom: 12px;
}

.column .jp {
  color: #222;
}

.column .en {
  color: #666;
  font-size: 0.88rem;
}

/* ===== List ===== */
.column ul {
  margin: 8px 0 16px 20px;
}

.column li {
  margin-bottom: 6px;
}

/* ===== FAQ ===== */
.column strong {
  font-weight: 600;
}

.column p.jp strong,
.column p.en strong {
  display: block;
  margin-bottom: 4px;
}

/* ===== Responsive ===== */
@media (max-width: 600px) {
  .column {
    font-size: 0.92rem;
  }
  .column h2 {
    font-size: 1.05rem;
  }
  .column .en {
    font-size: 0.85rem;
  }
</style>

  </style>
</head>
<body>

<div class="container">
  <h1>
    通貨変換ツール<br>
    <small>Currency Converter</small>
  </h1>

  <div class="desc">
    <p>
      このツールは、最新の為替レートに基づいて通貨を簡単に変換できます。<br>
      金額を入力し、通貨を選択するだけで結果が表示されます。
　　　    </p>
    <p>
      This tool allows you to easily convert currencies using daily updated exchange rates.<br>
      Simply enter an amount and select currencies to see the result.
    </p>
  </div>

  <label>金額（Amount）</label>
  <input type="number" id="amount" value="1" min="0">

  <label>変換元通貨（From）</label>
  <select id="from"></select>

  <button class="swap" id="swap">⇄ Swap currencies</button>

  <label>変換先通貨（To）</label>
  <select id="to"></select>

  <div class="result" id="result">-</div>

  <div class="note" id="updated"></div>

  <div class="links">
    <strong>ツール一覧　Other tools</strong>
    <a href="index.html">文字数カウントツール / Character Counter</a>
    <a href="unit-converter.html">単位変換ツール / Unit Converter</a>
  </div>
</div>

<script>
const API_BASE = "https://api.frankfurter.dev/v1/latest";
const CACHE_TIME = 24 * 60 * 60 * 1000;

// 通貨名（主要分だけ。増やしてOK）
const currencyNames = {
  USD: "US Dollar / 米ドル",
  JPY: "Japanese Yen / 日本円",
  EUR: "Euro / ユーロ",
  GBP: "British Pound / 英ポンド",
  AUD: "Australian Dollar / 豪ドル",
  CAD: "Canadian Dollar / カナダドル",
  CHF: "Swiss Franc / スイスフラン",
  CNY: "Chinese Yuan / 中国元"
};

const fromSelect = document.getElementById("from");
const toSelect = document.getElementById("to");
const amountInput = document.getElementById("amount");
const resultDiv = document.getElementById("result");
const updatedDiv = document.getElementById("updated");
const swapBtn = document.getElementById("swap");

async function getRates() {
  const cached = localStorage.getItem("rates");
  const cachedTime = localStorage.getItem("rates_time");
  const now = Date.now();

  if (cached && cachedTime && now - cachedTime < CACHE_TIME) {
    return JSON.parse(cached);
  }

  const res = await fetch(API_BASE);
  const data = await res.json();

  localStorage.setItem("rates", JSON.stringify(data));
  localStorage.setItem("rates_time", now);

  return data;
}

function updateResult(rates, base) {
  const amount = Number(amountInput.value);
  const from = fromSelect.value;
  const to = toSelect.value;

  if (!amount || from === to) {
    resultDiv.textContent = "-";
    return;
  }

  let rate;
  if (from === base) {
    rate = rates[to];
  } else if (to === base) {
    rate = 1 / rates[from];
  } else {
    rate = rates[to] / rates[from];
  }

  resultDiv.textContent =
    `${amount} ${from} = ${(amount * rate).toFixed(4)} ${to}`;
}

(async () => {
  const data = await getRates();
  const rates = data.rates;
  const base = data.base;
  const currencies = [base, ...Object.keys(rates)];

  currencies.forEach(c => {
    const name = currencyNames[c] || c;
    fromSelect.innerHTML += `<option value="${c}">${c} - ${name}</option>`;
    toSelect.innerHTML += `<option value="${c}">${c} - ${name}</option>`;
  });

  fromSelect.value = base;
  toSelect.value = "JPY";

  const updated = new Date(localStorage.getItem("rates_time"));
  updatedDiv.innerHTML =
    `最終更新：${updated.toLocaleString()}<br>
     Last updated: ${updated.toLocaleString()}<br>
     Reference rates provided by the European Central Bank (ECB).`;

  [fromSelect, toSelect, amountInput].forEach(el => {
    el.addEventListener("input", () =>
      updateResult(rates, base)
    );
  });

  swapBtn.addEventListener("click", () => {
    const temp = fromSelect.value;
    fromSelect.value = toSelect.value;
    toSelect.value = temp;
    updateResult(rates, base);
  });

  updateResult(rates, base);
})();
</script>
  <section class="column">
  <h2>通貨変換ツールとは？</h2>
  <p class="jp">
    通貨変換ツールは、異なる国の通貨を現在の為替レートに基づいて換算できる便利なツールです。
    海外旅行の予算管理や、海外通販での価格比較、外貨建て収入の確認など、日常のさまざまな場面で役立ちます。
  </p>
  <p class="en">
    A currency converter is a convenient tool that allows you to convert values between different currencies
    based on current exchange rates. It is useful for travel budgeting, international online shopping,
    and checking foreign currency income.
  </p>

  <h2>為替レートが毎日変動する理由</h2>
  <p class="jp">
    為替レートは、各国の経済状況、金利、物価、政治情勢、市場での需要と供給など、
    多くの要因によって常に変動しています。そのため、同じ金額でも日によって換算結果が異なります。
  </p>
  <p class="en">
    Exchange rates fluctuate every day due to various factors such as economic conditions,
    interest rates, inflation, political situations, and market supply and demand.
    This is why conversion results may change from day to day.
  </p>

  <h2>この通貨変換ツールが役立つシーン</h2>
  <ul class="jp">
    <li>海外旅行前の予算計算</li>
    <li>海外通販サイトでの価格チェック</li>
    <li>外貨建ての給料・報酬の目安確認</li>
    <li>為替や金融の基礎学習</li>
  </ul>
  <p class="en">
    This tool is helpful for travel planning, checking prices on international shopping sites,
    estimating foreign salaries or payments, and learning the basics of exchange rates.
  </p>

  <h2>為替レート利用時の注意点</h2>
  <p class="jp">
    表示される為替レートは参考値です。実際の両替やクレジットカード決済では、
    手数料やスプレッドが加算される場合があります。
    正確な金額が必要な場合は、金融機関の公式レートも確認してください。
  </p>
  <p class="en">
    The displayed exchange rates are for reference only.
    Actual currency exchange or card payments may include additional fees or spreads.
    Please check official rates provided by banks or payment services when accuracy is required.
  </p>

  <h2>よくある質問（FAQ）</h2>
  <p class="jp">
    <strong>Q. 為替レートのデータ元はどこですか？</strong><br>
    欧州中央銀行（ECB）が公開している為替データを参考にしています。
  </p>
  <p class="en">
    <strong>Q. Where do the exchange rates come from?</strong><br>
    The exchange rate data is based on reference rates published by the European Central Bank (ECB).
  </p>

  <p class="jp">
    <strong>Q. 為替レートは毎日更新されますか？</strong><br>
    はい。為替データは定期的に更新され、最新の情報が反映されます。
  </p>
  <p class="en">
    <strong>Q. Are exchange rates updated daily?</strong><br>
    Yes. The exchange rates are updated regularly to reflect the latest available data.
  </p>
</section>

</body>
</html>






